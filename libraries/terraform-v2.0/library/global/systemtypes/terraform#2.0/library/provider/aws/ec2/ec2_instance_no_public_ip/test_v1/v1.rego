package global.systemtypes["terraform:2.0"].library.provider.aws.ec2.ec2_instance_no_public_ip.test_v1

import data.global.systemtypes["terraform:2.0"].library.provider.aws.ec2.ec2_instance_no_public_ip.v1

# Scenario:
# - EC2 instance public ip association explicitly set to false          -> Pass
# Additional settings
# - Launch configuration public ip association explicitly set to false  -> Pass
# - Launch template public ip association explicitly set to "false"     -> Pass
test_aws_instance_good {
	ec2_instance_public_ip_association := false
	launch_configuration_public_ip_association := false
	launch_template_public_ip_association := "false"

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 0
}

# Scenario:
# - EC2 instance public ip association explicitly set to true           -> Fail
# Additional settings
# - Launch configuration public ip association explicitly set to false  -> Pass
# - Launch template public ip association explicitly set to false       -> Pass
test_aws_instance_bad {
	ec2_instance_public_ip_association := true
	launch_configuration_public_ip_association := false
	launch_template_public_ip_association := false

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

# Scenario:
# - Launch configuration public ip association explicitly set to false  -> Pass
# Additional settings
# - EC2 instance public ip association explicitly set to true           -> Pass
# - Launch template public ip association explicitly set to "false"     -> Pass
test_aws_launch_configuration_good {
	ec2_instance_public_ip_association := false
	launch_configuration_public_ip_association := false
	launch_template_public_ip_association := "false"

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 0
}

# Scenario:
# - Launch configuration public ip association explicitly set to true   -> Fail
# Additional settings
# - EC2 instance public ip association explicitly set to true           -> Pass
# - Launch template public ip association explicitly set to "false"     -> Pass
test_aws_launch_configuration_bad {
	ec2_instance_public_ip_association := false
	launch_configuration_public_ip_association := true
	launch_template_public_ip_association := "false"

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

# Scenario:
# - Launch template public ip association explicitly set to "false"     -> Pass
# Additional settings
# - EC2 instance public ip association explicitly set to true           -> Pass
# - Launch configuration public ip association explicitly set to true   -> Pass
test_aws_launch_template_str_good {
	ec2_instance_public_ip_association := false
	launch_configuration_public_ip_association := false
	launch_template_public_ip_association := "false"

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 0
}

# Scenario:
# - Launch template public ip association explicitly set to false       -> Pass
# Additional settings
# - EC2 instance public ip association explicitly set to true           -> Pass
# - Launch configuration public ip association explicitly set to true   -> Pass
test_aws_launch_template_bool_good {
	ec2_instance_public_ip_association := false
	launch_configuration_public_ip_association := false
	launch_template_public_ip_association := false

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 0
}

# Scenario:
# - Launch template public ip association explicitly set to "true"      -> Fail
# Additional settings
# - EC2 instance public ip association explicitly set to true           -> Pass
# - Launch configuration public ip association explicitly set to true   -> Pass
test_aws_launch_template_str_bad {
	ec2_instance_public_ip_association := false
	launch_configuration_public_ip_association := false
	launch_template_public_ip_association := "true"

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

# Scenario:
# - Launch template public ip association explicitly set to true        -> Fail
# Additional settings
# - EC2 instance public ip association explicitly set to true           -> Pass
# - Launch configuration public ip association explicitly set to true   -> Pass
test_aws_launch_template_bool_bad {
	ec2_instance_public_ip_association := false
	launch_configuration_public_ip_association := false
	launch_template_public_ip_association := true

	in := input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association)
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

# Scenario:
# - EC2 instance public ip association not defined -> Fail
test_aws_instance_ip_assoc_undeclared_bad {
	in := input_aws_instance_without_public_ip_declaration
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

# Scenario:
# - Launch configuration public ip association not defined -> Fail
test_aws_launch_configuration_ip_assoc_undeclared_bad {
	in := input_aws_launch_configuration_without_public_ip_declaration
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

# Scenario:
# - Launch template with empty network interfaces -> Fail
test_aws_launch_template_with_empty_network_interface_bad {
	in := input_aws_launch_template_with_empty_network_interface
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

# Scenario:
# - Launch template with without network interfaces -> Fail
test_aws_launch_template_without_network_interface_bad {
	in := input_aws_launch_template_without_network_interface
	actual := v1.ec2_instance_with_public_ip with input as in
	count(actual) == 1
}

input_ec2_instance_launch_template_and_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association) := x {
	x := {
		"format_version": "1.1",
		"terraform_version": "1.2.7",
		"planned_values": {"root_module": {"child_modules": [{
			"resources": [
				{
					"address": "module.autoscaling.aws_instance.public_ip_association_explicitly_declared",
					"mode": "managed",
					"type": "aws_instance",
					"name": "public_ip_association_explicitly_declared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 1,
					"values": {
						"ami": "ami-830c94e3",
						"associate_public_ip_address": ec2_instance_public_ip_association,
						"credit_specification": [],
						"get_password_data": false,
						"hibernation": null,
						"instance_type": "t2.micro",
						"launch_template": [],
						"source_dest_check": true,
						"subnet_id": "subnet-abd8438a",
						"tags": {"Name": "ExampleInstance"},
						"tags_all": {"Name": "ExampleInstance"},
						"timeouts": null,
						"user_data_replace_on_change": false,
						"volume_tags": null,
					},
					"sensitive_values": {
						"capacity_reservation_specification": [],
						"credit_specification": [],
						"ebs_block_device": [],
						"enclave_options": [],
						"ephemeral_block_device": [],
						"ipv6_addresses": [],
						"launch_template": [],
						"maintenance_options": [],
						"metadata_options": [],
						"network_interface": [],
						"private_dns_name_options": [],
						"root_block_device": [],
						"secondary_private_ips": [],
						"security_groups": [],
						"tags": {},
						"tags_all": {},
						"vpc_security_group_ids": [],
					},
				},
				{
					"address": "module.autoscaling.aws_instance.public_ip_association_undeclared",
					"mode": "managed",
					"type": "aws_instance",
					"name": "public_ip_association_undeclared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 1,
					"values": {
						"ami": "ami-830c94e3",
						"credit_specification": [],
						"get_password_data": false,
						"hibernation": null,
						"instance_type": "t2.micro",
						"launch_template": [],
						"source_dest_check": true,
						"subnet_id": "subnet-abd8438a",
						"tags": {"Name": "ExampleInstance"},
						"tags_all": {"Name": "ExampleInstance"},
						"timeouts": null,
						"user_data_replace_on_change": false,
						"volume_tags": null,
					},
					"sensitive_values": {
						"capacity_reservation_specification": [],
						"credit_specification": [],
						"ebs_block_device": [],
						"enclave_options": [],
						"ephemeral_block_device": [],
						"ipv6_addresses": [],
						"launch_template": [],
						"maintenance_options": [],
						"metadata_options": [],
						"network_interface": [],
						"private_dns_name_options": [],
						"root_block_device": [],
						"secondary_private_ips": [],
						"security_groups": [],
						"tags": {},
						"tags_all": {},
						"vpc_security_group_ids": [],
					},
				},
				{
					"address": "module.autoscaling.aws_launch_configuration.public_ip_association_explicitly_declared",
					"mode": "managed",
					"type": "aws_launch_configuration",
					"name": "public_ip_association_explicitly_declared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"associate_public_ip_address": launch_configuration_public_ip_association,
						"enable_monitoring": true,
						"ephemeral_block_device": [],
						"iam_instance_profile": null,
						"image_id": "ami-0849a313b038afda0",
						"instance_type": "m6a.large",
						"name": "tf-launchconf-styra",
						"placement_tenancy": null,
						"security_groups": null,
						"spot_price": null,
						"user_data": null,
						"user_data_base64": null,
						"vpc_classic_link_id": null,
						"vpc_classic_link_security_groups": null,
					},
					"sensitive_values": {
						"ebs_block_device": [],
						"ephemeral_block_device": [],
						"metadata_options": [],
						"root_block_device": [],
					},
				},
				{
					"address": "module.autoscaling.aws_launch_configuration.public_ip_association_undeclared",
					"mode": "managed",
					"type": "aws_launch_configuration",
					"name": "public_ip_association_undeclared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"enable_monitoring": true,
						"ephemeral_block_device": [],
						"iam_instance_profile": null,
						"image_id": "ami-0849a313b038afda0",
						"instance_type": "m6a.large",
						"name": "tf-launchconf-styra",
						"placement_tenancy": null,
						"security_groups": null,
						"spot_price": null,
						"user_data": null,
						"user_data_base64": null,
						"vpc_classic_link_id": null,
						"vpc_classic_link_security_groups": null,
					},
					"sensitive_values": {
						"ebs_block_device": [],
						"ephemeral_block_device": [],
						"metadata_options": [],
						"root_block_device": [],
					},
				},
				{
					"address": "module.autoscaling.aws_launch_template.empty_network_interfaces",
					"mode": "managed",
					"type": "aws_launch_template",
					"name": "empty_network_interfaces",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "good-example",
						"network_interfaces": [{
							"associate_carrier_ip_address": null,
							"associate_public_ip_address": null,
							"delete_on_termination": null,
							"description": null,
							"device_index": null,
							"interface_type": null,
							"ipv4_address_count": null,
							"ipv4_addresses": null,
							"ipv4_prefix_count": null,
							"ipv4_prefixes": null,
							"ipv6_address_count": null,
							"ipv6_addresses": null,
							"ipv6_prefix_count": null,
							"ipv6_prefixes": null,
							"network_card_index": null,
							"network_interface_id": null,
							"private_ip_address": null,
							"security_groups": null,
							"subnet_id": null,
						}],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "good-example"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"sensitive_values": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
				{
					"address": "module.autoscaling.aws_launch_template.network_interfaces_undeclared",
					"mode": "managed",
					"type": "aws_launch_template",
					"name": "network_interfaces_undeclared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "bad-example-2",
						"network_interfaces": [],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "bad-example-2"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"sensitive_values": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
				{
					"address": "module.autoscaling.aws_launch_template.public_ip_association_explicitly_declared",
					"mode": "managed",
					"type": "aws_launch_template",
					"name": "public_ip_association_explicitly_declared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "good-example",
						"network_interfaces": [{
							"associate_carrier_ip_address": null,
							"associate_public_ip_address": launch_template_public_ip_association,
							"delete_on_termination": null,
							"description": null,
							"device_index": null,
							"interface_type": null,
							"ipv4_address_count": null,
							"ipv4_addresses": null,
							"ipv4_prefix_count": null,
							"ipv4_prefixes": null,
							"ipv6_address_count": null,
							"ipv6_addresses": null,
							"ipv6_prefix_count": null,
							"ipv6_prefixes": null,
							"network_card_index": null,
							"network_interface_id": null,
							"private_ip_address": null,
							"security_groups": null,
							"subnet_id": null,
						}],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "good-example"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"sensitive_values": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
			],
			"address": "module.autoscaling",
		}]}},
		"resource_changes": [
			{
				"address": "module.autoscaling.aws_instance.public_ip_association_explicitly_declared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_instance",
				"name": "public_ip_association_explicitly_declared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"ami": "ami-830c94e3",
						"associate_public_ip_address": ec2_instance_public_ip_association,
						"credit_specification": [],
						"get_password_data": false,
						"hibernation": null,
						"instance_type": "t2.micro",
						"launch_template": [],
						"source_dest_check": true,
						"subnet_id": "subnet-abd8438a",
						"tags": {"Name": "ExampleInstance"},
						"tags_all": {"Name": "ExampleInstance"},
						"timeouts": null,
						"user_data_replace_on_change": false,
						"volume_tags": null,
					},
					"after_unknown": {
						"arn": true,
						"availability_zone": true,
						"capacity_reservation_specification": true,
						"cpu_core_count": true,
						"cpu_threads_per_core": true,
						"credit_specification": [],
						"disable_api_stop": true,
						"disable_api_termination": true,
						"ebs_block_device": true,
						"ebs_optimized": true,
						"enclave_options": true,
						"ephemeral_block_device": true,
						"host_id": true,
						"host_resource_group_arn": true,
						"iam_instance_profile": true,
						"id": true,
						"instance_initiated_shutdown_behavior": true,
						"instance_state": true,
						"ipv6_address_count": true,
						"ipv6_addresses": true,
						"key_name": true,
						"launch_template": [],
						"maintenance_options": true,
						"metadata_options": true,
						"monitoring": true,
						"network_interface": true,
						"outpost_arn": true,
						"password_data": true,
						"placement_group": true,
						"placement_partition_number": true,
						"primary_network_interface_id": true,
						"private_dns": true,
						"private_dns_name_options": true,
						"private_ip": true,
						"public_dns": true,
						"public_ip": true,
						"root_block_device": true,
						"secondary_private_ips": true,
						"security_groups": true,
						"tags": {},
						"tags_all": {},
						"tenancy": true,
						"user_data": true,
						"user_data_base64": true,
						"vpc_security_group_ids": true,
					},
					"before_sensitive": false,
					"after_sensitive": {
						"capacity_reservation_specification": [],
						"credit_specification": [],
						"ebs_block_device": [],
						"enclave_options": [],
						"ephemeral_block_device": [],
						"ipv6_addresses": [],
						"launch_template": [],
						"maintenance_options": [],
						"metadata_options": [],
						"network_interface": [],
						"private_dns_name_options": [],
						"root_block_device": [],
						"secondary_private_ips": [],
						"security_groups": [],
						"tags": {},
						"tags_all": {},
						"vpc_security_group_ids": [],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_instance.public_ip_association_undeclared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_instance",
				"name": "public_ip_association_undeclared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"ami": "ami-830c94e3",
						"credit_specification": [],
						"get_password_data": false,
						"hibernation": null,
						"instance_type": "t2.micro",
						"launch_template": [],
						"source_dest_check": true,
						"subnet_id": "subnet-abd8438a",
						"tags": {"Name": "ExampleInstance"},
						"tags_all": {"Name": "ExampleInstance"},
						"timeouts": null,
						"user_data_replace_on_change": false,
						"volume_tags": null,
					},
					"after_unknown": {
						"arn": true,
						"associate_public_ip_address": true,
						"availability_zone": true,
						"capacity_reservation_specification": true,
						"cpu_core_count": true,
						"cpu_threads_per_core": true,
						"credit_specification": [],
						"disable_api_stop": true,
						"disable_api_termination": true,
						"ebs_block_device": true,
						"ebs_optimized": true,
						"enclave_options": true,
						"ephemeral_block_device": true,
						"host_id": true,
						"host_resource_group_arn": true,
						"iam_instance_profile": true,
						"id": true,
						"instance_initiated_shutdown_behavior": true,
						"instance_state": true,
						"ipv6_address_count": true,
						"ipv6_addresses": true,
						"key_name": true,
						"launch_template": [],
						"maintenance_options": true,
						"metadata_options": true,
						"monitoring": true,
						"network_interface": true,
						"outpost_arn": true,
						"password_data": true,
						"placement_group": true,
						"placement_partition_number": true,
						"primary_network_interface_id": true,
						"private_dns": true,
						"private_dns_name_options": true,
						"private_ip": true,
						"public_dns": true,
						"public_ip": true,
						"root_block_device": true,
						"secondary_private_ips": true,
						"security_groups": true,
						"tags": {},
						"tags_all": {},
						"tenancy": true,
						"user_data": true,
						"user_data_base64": true,
						"vpc_security_group_ids": true,
					},
					"before_sensitive": false,
					"after_sensitive": {
						"capacity_reservation_specification": [],
						"credit_specification": [],
						"ebs_block_device": [],
						"enclave_options": [],
						"ephemeral_block_device": [],
						"ipv6_addresses": [],
						"launch_template": [],
						"maintenance_options": [],
						"metadata_options": [],
						"network_interface": [],
						"private_dns_name_options": [],
						"root_block_device": [],
						"secondary_private_ips": [],
						"security_groups": [],
						"tags": {},
						"tags_all": {},
						"vpc_security_group_ids": [],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_launch_configuration.public_ip_association_explicitly_declared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_launch_configuration",
				"name": "public_ip_association_explicitly_declared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"associate_public_ip_address": launch_configuration_public_ip_association,
						"enable_monitoring": true,
						"ephemeral_block_device": [],
						"iam_instance_profile": null,
						"image_id": "ami-0849a313b038afda0",
						"instance_type": "m6a.large",
						"name": "tf-launchconf-styra",
						"placement_tenancy": null,
						"security_groups": null,
						"spot_price": null,
						"user_data": null,
						"user_data_base64": null,
						"vpc_classic_link_id": null,
						"vpc_classic_link_security_groups": null,
					},
					"after_unknown": {
						"arn": true,
						"ebs_block_device": true,
						"ebs_optimized": true,
						"ephemeral_block_device": [],
						"id": true,
						"key_name": true,
						"metadata_options": true,
						"name_prefix": true,
						"root_block_device": true,
					},
					"before_sensitive": false,
					"after_sensitive": {
						"ebs_block_device": [],
						"ephemeral_block_device": [],
						"metadata_options": [],
						"root_block_device": [],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_launch_configuration.public_ip_association_undeclared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_launch_configuration",
				"name": "public_ip_association_undeclared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"enable_monitoring": true,
						"ephemeral_block_device": [],
						"iam_instance_profile": null,
						"image_id": "ami-0849a313b038afda0",
						"instance_type": "m6a.large",
						"name": "tf-launchconf-styra",
						"placement_tenancy": null,
						"security_groups": null,
						"spot_price": null,
						"user_data": null,
						"user_data_base64": null,
						"vpc_classic_link_id": null,
						"vpc_classic_link_security_groups": null,
					},
					"after_unknown": {
						"arn": true,
						"associate_public_ip_address": true,
						"ebs_block_device": true,
						"ebs_optimized": true,
						"ephemeral_block_device": [],
						"id": true,
						"key_name": true,
						"metadata_options": true,
						"name_prefix": true,
						"root_block_device": true,
					},
					"before_sensitive": false,
					"after_sensitive": {
						"ebs_block_device": [],
						"ephemeral_block_device": [],
						"metadata_options": [],
						"root_block_device": [],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_launch_template.empty_network_interfaces",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_launch_template",
				"name": "empty_network_interfaces",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "good-example",
						"network_interfaces": [{
							"associate_carrier_ip_address": null,
							"associate_public_ip_address": null,
							"delete_on_termination": null,
							"description": null,
							"device_index": null,
							"interface_type": null,
							"ipv4_address_count": null,
							"ipv4_addresses": null,
							"ipv4_prefix_count": null,
							"ipv4_prefixes": null,
							"ipv6_address_count": null,
							"ipv6_addresses": null,
							"ipv6_prefix_count": null,
							"ipv6_prefixes": null,
							"network_card_index": null,
							"network_interface_id": null,
							"private_ip_address": null,
							"security_groups": null,
							"subnet_id": null,
						}],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "good-example"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"after_unknown": {
						"arn": true,
						"block_device_mappings": [{"ebs": [{
							"iops": true,
							"throughput": true,
							"volume_type": true,
						}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"default_version": true,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"id": true,
						"instance_market_options": [],
						"instance_requirements": [],
						"latest_version": true,
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": true,
						"monitoring": [],
						"name_prefix": true,
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": true,
						"vpc_security_group_ids": [false],
					},
					"before_sensitive": false,
					"after_sensitive": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_launch_template.network_interfaces_undeclared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_launch_template",
				"name": "network_interfaces_undeclared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "bad-example-2",
						"network_interfaces": [],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "bad-example-2"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"after_unknown": {
						"arn": true,
						"block_device_mappings": [{"ebs": [{
							"iops": true,
							"throughput": true,
							"volume_type": true,
						}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"default_version": true,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"id": true,
						"instance_market_options": [],
						"instance_requirements": [],
						"latest_version": true,
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": true,
						"monitoring": [],
						"name_prefix": true,
						"network_interfaces": [],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": true,
						"vpc_security_group_ids": [false],
					},
					"before_sensitive": false,
					"after_sensitive": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_launch_template.public_ip_association_explicitly_declared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_launch_template",
				"name": "public_ip_association_explicitly_declared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "good-example",
						"network_interfaces": [{
							"associate_carrier_ip_address": null,
							"associate_public_ip_address": launch_template_public_ip_association,
							"delete_on_termination": null,
							"description": null,
							"device_index": null,
							"interface_type": null,
							"ipv4_address_count": null,
							"ipv4_addresses": null,
							"ipv4_prefix_count": null,
							"ipv4_prefixes": null,
							"ipv6_address_count": null,
							"ipv6_addresses": null,
							"ipv6_prefix_count": null,
							"ipv6_prefixes": null,
							"network_card_index": null,
							"network_interface_id": null,
							"private_ip_address": null,
							"security_groups": null,
							"subnet_id": null,
						}],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "good-example"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"after_unknown": {
						"arn": true,
						"block_device_mappings": [{"ebs": [{
							"iops": true,
							"throughput": true,
							"volume_type": true,
						}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"default_version": true,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"id": true,
						"instance_market_options": [],
						"instance_requirements": [],
						"latest_version": true,
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": true,
						"monitoring": [],
						"name_prefix": true,
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": true,
						"vpc_security_group_ids": [false],
					},
					"before_sensitive": false,
					"after_sensitive": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
			},
		],
		"prior_state": {
			"format_version": "1.0",
			"terraform_version": "1.2.7",
			"values": {"root_module": {"child_modules": [{
				"resources": [{
					"address": "module.autoscaling.data.aws_ami.amazon_linux",
					"mode": "data",
					"type": "aws_ami",
					"name": "amazon_linux",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"architecture": "x86_64",
						"arn": "arn:aws:ec2:us-west-2::image/ami-0849a313b038afda0",
						"block_device_mappings": [{
							"device_name": "/dev/xvda",
							"ebs": {
								"delete_on_termination": "true",
								"encrypted": "false",
								"iops": "0",
								"snapshot_id": "snap-0e91d5562d39fefca",
								"throughput": "0",
								"volume_size": "8",
								"volume_type": "gp2",
							},
							"no_device": "",
							"virtual_name": "",
						}],
						"boot_mode": "",
						"creation_date": "2022-12-16T01:56:14.000Z",
						"deprecation_time": "2024-12-16T01:56:14.000Z",
						"description": "Amazon Linux 2 AMI 2.0.20221210.1 x86_64 HVM gp2",
						"ena_support": true,
						"executable_users": null,
						"filter": [{
							"name": "name",
							"values": ["amzn2-ami-hvm-*-x86_64-gp2"],
						}],
						"hypervisor": "xen",
						"id": "ami-0849a313b038afda0",
						"image_id": "ami-0849a313b038afda0",
						"image_location": "amazon/amzn2-ami-hvm-2.0.20221210.1-x86_64-gp2",
						"image_owner_alias": "amazon",
						"image_type": "machine",
						"imds_support": "",
						"include_deprecated": false,
						"kernel_id": "",
						"most_recent": true,
						"name": "amzn2-ami-hvm-2.0.20221210.1-x86_64-gp2",
						"name_regex": null,
						"owner_id": "137112412989",
						"owners": ["amazon"],
						"platform": "",
						"platform_details": "Linux/UNIX",
						"product_codes": [],
						"public": true,
						"ramdisk_id": "",
						"root_device_name": "/dev/xvda",
						"root_device_type": "ebs",
						"root_snapshot_id": "snap-0e91d5562d39fefca",
						"sriov_net_support": "simple",
						"state": "available",
						"state_reason": {
							"code": "UNSET",
							"message": "UNSET",
						},
						"tags": {},
						"timeouts": null,
						"tpm_support": "",
						"usage_operation": "RunInstances",
						"virtualization_type": "hvm",
					},
					"sensitive_values": {
						"block_device_mappings": [{"ebs": {}}],
						"filter": [{"values": [false]}],
						"owners": [false],
						"product_codes": [],
						"state_reason": {},
						"tags": {},
					},
				}],
				"address": "module.autoscaling",
			}]}},
		},
		"configuration": {
			"provider_config": {"module.autoscaling:aws": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"references": ["var.aws_region"]}},
			}},
			"root_module": {"module_calls": {"autoscaling": {
				"source": "../../../../../modules/ec2",
				"module": {
					"resources": [
						{
							"address": "aws_instance.public_ip_association_explicitly_declared",
							"mode": "managed",
							"type": "aws_instance",
							"name": "public_ip_association_explicitly_declared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"ami": {"constant_value": "ami-830c94e3"},
								"associate_public_ip_address": {"constant_value": false},
								"instance_type": {"constant_value": "t2.micro"},
								"subnet_id": {"constant_value": "subnet-abd8438a"},
								"tags": {"constant_value": {"Name": "ExampleInstance"}},
							},
							"schema_version": 1,
						},
						{
							"address": "aws_instance.public_ip_association_undeclared",
							"mode": "managed",
							"type": "aws_instance",
							"name": "public_ip_association_undeclared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"ami": {"constant_value": "ami-830c94e3"},
								"instance_type": {"constant_value": "t2.micro"},
								"subnet_id": {"constant_value": "subnet-abd8438a"},
								"tags": {"constant_value": {"Name": "ExampleInstance"}},
							},
							"schema_version": 1,
						},
						{
							"address": "aws_launch_configuration.public_ip_association_explicitly_declared",
							"mode": "managed",
							"type": "aws_launch_configuration",
							"name": "public_ip_association_explicitly_declared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"associate_public_ip_address": {"constant_value": true},
								"image_id": {"references": [
									"data.aws_ami.amazon_linux.id",
									"data.aws_ami.amazon_linux",
								]},
								"instance_type": {"constant_value": "m6a.large"},
								"name": {"constant_value": "tf-launchconf-styra"},
							},
							"schema_version": 0,
						},
						{
							"address": "aws_launch_configuration.public_ip_association_undeclared",
							"mode": "managed",
							"type": "aws_launch_configuration",
							"name": "public_ip_association_undeclared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"image_id": {"references": [
									"data.aws_ami.amazon_linux.id",
									"data.aws_ami.amazon_linux",
								]},
								"instance_type": {"constant_value": "m6a.large"},
								"name": {"constant_value": "tf-launchconf-styra"},
							},
							"schema_version": 0,
						},
						{
							"address": "aws_launch_template.empty_network_interfaces",
							"mode": "managed",
							"type": "aws_launch_template",
							"name": "empty_network_interfaces",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"block_device_mappings": [{
									"device_name": {"constant_value": "/dev/sda1"},
									"ebs": [{"volume_size": {"constant_value": 20}}],
								}],
								"name": {"constant_value": "good-example"},
								"network_interfaces": [{}],
								"placement": [{"availability_zone": {"constant_value": "us-west-2a"}}],
								"ram_disk_id": {"constant_value": "test"},
								"tag_specifications": [{
									"resource_type": {"constant_value": "instance"},
									"tags": {"constant_value": {"Name": "good-example"}},
								}],
								"vpc_security_group_ids": {"constant_value": ["sg-12345678"]},
							},
							"schema_version": 0,
						},
						{
							"address": "aws_launch_template.network_interfaces_undeclared",
							"mode": "managed",
							"type": "aws_launch_template",
							"name": "network_interfaces_undeclared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"block_device_mappings": [{
									"device_name": {"constant_value": "/dev/sda1"},
									"ebs": [{"volume_size": {"constant_value": 20}}],
								}],
								"name": {"constant_value": "bad-example-2"},
								"placement": [{"availability_zone": {"constant_value": "us-west-2a"}}],
								"ram_disk_id": {"constant_value": "test"},
								"tag_specifications": [{
									"resource_type": {"constant_value": "instance"},
									"tags": {"constant_value": {"Name": "bad-example-2"}},
								}],
								"vpc_security_group_ids": {"constant_value": ["sg-12345678"]},
							},
							"schema_version": 0,
						},
						{
							"address": "aws_launch_template.public_ip_association_explicitly_declared",
							"mode": "managed",
							"type": "aws_launch_template",
							"name": "public_ip_association_explicitly_declared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"block_device_mappings": [{
									"device_name": {"constant_value": "/dev/sda1"},
									"ebs": [{"volume_size": {"constant_value": 20}}],
								}],
								"name": {"constant_value": "good-example"},
								"network_interfaces": [{"associate_public_ip_address": {"constant_value": false}}],
								"placement": [{"availability_zone": {"constant_value": "us-west-2a"}}],
								"ram_disk_id": {"constant_value": "test"},
								"tag_specifications": [{
									"resource_type": {"constant_value": "instance"},
									"tags": {"constant_value": {"Name": "good-example"}},
								}],
								"vpc_security_group_ids": {"constant_value": ["sg-12345678"]},
							},
							"schema_version": 0,
						},
						{
							"address": "data.aws_ami.amazon_linux",
							"mode": "data",
							"type": "aws_ami",
							"name": "amazon_linux",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"filter": [{
									"name": {"constant_value": "name"},
									"values": {"constant_value": ["amzn2-ami-hvm-*-x86_64-gp2"]},
								}],
								"most_recent": {"constant_value": true},
								"owners": {"constant_value": ["amazon"]},
							},
							"schema_version": 0,
						},
					],
					"variables": {
						"asg_name": {
							"default": "tf-asg-styra",
							"description": "Name of the autoscaling group",
						},
						"aws_region": {
							"default": "us-west-2",
							"description": "AWS region",
						},
						"instance_type": {
							"default": "m6a.large",
							"description": "Type of the instance for launch configuration",
						},
						"launch_conf_name": {
							"default": "tf-launchconf-styra",
							"description": "Name of the launch configuration",
						},
					},
				},
			}}},
		},
		"relevant_attributes": [{
			"resource": "module.autoscaling.data.aws_ami.amazon_linux",
			"attribute": ["id"],
		}],
	}
}

input_instance_and_launch_template_and_launch_configuration(ec2_instance_public_ip_association, launch_configuration_public_ip_association, launch_template_public_ip_association) := x {
	x := {
		"format_version": "1.1",
		"terraform_version": "1.2.7",
		"planned_values": {"root_module": {"child_modules": [{
			"resources": [
				{
					"address": "module.autoscaling.aws_instance.public_ip_association_explicitly_declared",
					"mode": "managed",
					"type": "aws_instance",
					"name": "public_ip_association_explicitly_declared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 1,
					"values": {
						"ami": "ami-830c94e3",
						"associate_public_ip_address": ec2_instance_public_ip_association,
						"credit_specification": [],
						"get_password_data": false,
						"hibernation": null,
						"instance_type": "t2.micro",
						"launch_template": [],
						"source_dest_check": true,
						"subnet_id": "subnet-abd8438a",
						"tags": {"Name": "ExampleInstance"},
						"tags_all": {"Name": "ExampleInstance"},
						"timeouts": null,
						"user_data_replace_on_change": false,
						"volume_tags": null,
					},
					"sensitive_values": {
						"capacity_reservation_specification": [],
						"credit_specification": [],
						"ebs_block_device": [],
						"enclave_options": [],
						"ephemeral_block_device": [],
						"ipv6_addresses": [],
						"launch_template": [],
						"maintenance_options": [],
						"metadata_options": [],
						"network_interface": [],
						"private_dns_name_options": [],
						"root_block_device": [],
						"secondary_private_ips": [],
						"security_groups": [],
						"tags": {},
						"tags_all": {},
						"vpc_security_group_ids": [],
					},
				},
				{
					"address": "module.autoscaling.aws_launch_configuration.public_ip_association_explicitly_declared",
					"mode": "managed",
					"type": "aws_launch_configuration",
					"name": "public_ip_association_explicitly_declared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"associate_public_ip_address": launch_configuration_public_ip_association,
						"enable_monitoring": true,
						"ephemeral_block_device": [],
						"iam_instance_profile": null,
						"image_id": "ami-0913c47048d853921",
						"instance_type": "m6a.large",
						"name": "tf-launchconf-styra",
						"placement_tenancy": null,
						"security_groups": null,
						"spot_price": null,
						"user_data": null,
						"user_data_base64": null,
						"vpc_classic_link_id": null,
						"vpc_classic_link_security_groups": null,
					},
					"sensitive_values": {
						"ebs_block_device": [],
						"ephemeral_block_device": [],
						"metadata_options": [],
						"root_block_device": [],
					},
				},
				{
					"address": "module.autoscaling.aws_launch_template.public_ip_association_explicitly_declared",
					"mode": "managed",
					"type": "aws_launch_template",
					"name": "public_ip_association_explicitly_declared",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "good-example",
						"network_interfaces": [{
							"associate_carrier_ip_address": null,
							"associate_public_ip_address": launch_template_public_ip_association,
							"delete_on_termination": null,
							"description": null,
							"device_index": null,
							"interface_type": null,
							"ipv4_address_count": null,
							"ipv4_addresses": null,
							"ipv4_prefix_count": null,
							"ipv4_prefixes": null,
							"ipv6_address_count": null,
							"ipv6_addresses": null,
							"ipv6_prefix_count": null,
							"ipv6_prefixes": null,
							"network_card_index": null,
							"network_interface_id": null,
							"private_ip_address": null,
							"security_groups": null,
							"subnet_id": null,
						}],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "good-example"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"sensitive_values": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
			],
			"address": "module.autoscaling",
		}]}},
		"resource_changes": [
			{
				"address": "module.autoscaling.aws_instance.public_ip_association_explicitly_declared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_instance",
				"name": "public_ip_association_explicitly_declared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"ami": "ami-830c94e3",
						"associate_public_ip_address": ec2_instance_public_ip_association,
						"credit_specification": [],
						"get_password_data": false,
						"hibernation": null,
						"instance_type": "t2.micro",
						"launch_template": [],
						"source_dest_check": true,
						"subnet_id": "subnet-abd8438a",
						"tags": {"Name": "ExampleInstance"},
						"tags_all": {"Name": "ExampleInstance"},
						"timeouts": null,
						"user_data_replace_on_change": false,
						"volume_tags": null,
					},
					"after_unknown": {
						"arn": true,
						"availability_zone": true,
						"capacity_reservation_specification": true,
						"cpu_core_count": true,
						"cpu_threads_per_core": true,
						"credit_specification": [],
						"disable_api_stop": true,
						"disable_api_termination": true,
						"ebs_block_device": true,
						"ebs_optimized": true,
						"enclave_options": true,
						"ephemeral_block_device": true,
						"host_id": true,
						"host_resource_group_arn": true,
						"iam_instance_profile": true,
						"id": true,
						"instance_initiated_shutdown_behavior": true,
						"instance_state": true,
						"ipv6_address_count": true,
						"ipv6_addresses": true,
						"key_name": true,
						"launch_template": [],
						"maintenance_options": true,
						"metadata_options": true,
						"monitoring": true,
						"network_interface": true,
						"outpost_arn": true,
						"password_data": true,
						"placement_group": true,
						"placement_partition_number": true,
						"primary_network_interface_id": true,
						"private_dns": true,
						"private_dns_name_options": true,
						"private_ip": true,
						"public_dns": true,
						"public_ip": true,
						"root_block_device": true,
						"secondary_private_ips": true,
						"security_groups": true,
						"tags": {},
						"tags_all": {},
						"tenancy": true,
						"user_data": true,
						"user_data_base64": true,
						"vpc_security_group_ids": true,
					},
					"before_sensitive": false,
					"after_sensitive": {
						"capacity_reservation_specification": [],
						"credit_specification": [],
						"ebs_block_device": [],
						"enclave_options": [],
						"ephemeral_block_device": [],
						"ipv6_addresses": [],
						"launch_template": [],
						"maintenance_options": [],
						"metadata_options": [],
						"network_interface": [],
						"private_dns_name_options": [],
						"root_block_device": [],
						"secondary_private_ips": [],
						"security_groups": [],
						"tags": {},
						"tags_all": {},
						"vpc_security_group_ids": [],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_launch_configuration.public_ip_association_explicitly_declared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_launch_configuration",
				"name": "public_ip_association_explicitly_declared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"associate_public_ip_address": launch_configuration_public_ip_association,
						"enable_monitoring": true,
						"ephemeral_block_device": [],
						"iam_instance_profile": null,
						"image_id": "ami-0913c47048d853921",
						"instance_type": "m6a.large",
						"name": "tf-launchconf-styra",
						"placement_tenancy": null,
						"security_groups": null,
						"spot_price": null,
						"user_data": null,
						"user_data_base64": null,
						"vpc_classic_link_id": null,
						"vpc_classic_link_security_groups": null,
					},
					"after_unknown": {
						"arn": true,
						"ebs_block_device": true,
						"ebs_optimized": true,
						"ephemeral_block_device": [],
						"id": true,
						"key_name": true,
						"metadata_options": true,
						"name_prefix": true,
						"root_block_device": true,
					},
					"before_sensitive": false,
					"after_sensitive": {
						"ebs_block_device": [],
						"ephemeral_block_device": [],
						"metadata_options": [],
						"root_block_device": [],
					},
				},
			},
			{
				"address": "module.autoscaling.aws_launch_template.public_ip_association_explicitly_declared",
				"module_address": "module.autoscaling",
				"mode": "managed",
				"type": "aws_launch_template",
				"name": "public_ip_association_explicitly_declared",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"change": {
					"actions": ["create"],
					"before": null,
					"after": {
						"block_device_mappings": [{
							"device_name": "/dev/sda1",
							"ebs": [{
								"delete_on_termination": null,
								"encrypted": null,
								"kms_key_id": null,
								"snapshot_id": null,
								"volume_size": 20,
							}],
							"no_device": null,
							"virtual_name": null,
						}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"description": null,
						"disable_api_stop": null,
						"disable_api_termination": null,
						"ebs_optimized": null,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"image_id": null,
						"instance_initiated_shutdown_behavior": null,
						"instance_market_options": [],
						"instance_requirements": [],
						"instance_type": null,
						"kernel_id": null,
						"key_name": null,
						"license_specification": [],
						"maintenance_options": [],
						"monitoring": [],
						"name": "good-example",
						"network_interfaces": [{
							"associate_carrier_ip_address": null,
							"associate_public_ip_address": launch_template_public_ip_association,
							"delete_on_termination": null,
							"description": null,
							"device_index": null,
							"interface_type": null,
							"ipv4_address_count": null,
							"ipv4_addresses": null,
							"ipv4_prefix_count": null,
							"ipv4_prefixes": null,
							"ipv6_address_count": null,
							"ipv6_addresses": null,
							"ipv6_prefix_count": null,
							"ipv6_prefixes": null,
							"network_card_index": null,
							"network_interface_id": null,
							"private_ip_address": null,
							"security_groups": null,
							"subnet_id": null,
						}],
						"placement": [{
							"affinity": null,
							"availability_zone": "us-west-2a",
							"group_name": null,
							"host_id": null,
							"host_resource_group_arn": null,
							"partition_number": null,
							"spread_domain": null,
							"tenancy": null,
						}],
						"private_dns_name_options": [],
						"ram_disk_id": "test",
						"security_group_names": null,
						"tag_specifications": [{
							"resource_type": "instance",
							"tags": {"Name": "good-example"},
						}],
						"tags": null,
						"update_default_version": null,
						"user_data": null,
						"vpc_security_group_ids": ["sg-12345678"],
					},
					"after_unknown": {
						"arn": true,
						"block_device_mappings": [{"ebs": [{
							"iops": true,
							"throughput": true,
							"volume_type": true,
						}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"default_version": true,
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"id": true,
						"instance_market_options": [],
						"instance_requirements": [],
						"latest_version": true,
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": true,
						"monitoring": [],
						"name_prefix": true,
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": true,
						"vpc_security_group_ids": [false],
					},
					"before_sensitive": false,
					"after_sensitive": {
						"block_device_mappings": [{"ebs": [{}]}],
						"capacity_reservation_specification": [],
						"cpu_options": [],
						"credit_specification": [],
						"elastic_gpu_specifications": [],
						"elastic_inference_accelerator": [],
						"enclave_options": [],
						"hibernation_options": [],
						"iam_instance_profile": [],
						"instance_market_options": [],
						"instance_requirements": [],
						"license_specification": [],
						"maintenance_options": [],
						"metadata_options": [],
						"monitoring": [],
						"network_interfaces": [{}],
						"placement": [{}],
						"private_dns_name_options": [],
						"tag_specifications": [{"tags": {}}],
						"tags_all": {},
						"vpc_security_group_ids": [false],
					},
				},
			},
		],
		"prior_state": {
			"format_version": "1.0",
			"terraform_version": "1.2.7",
			"values": {"root_module": {"child_modules": [{
				"resources": [{
					"address": "module.autoscaling.data.aws_ami.amazon_linux",
					"mode": "data",
					"type": "aws_ami",
					"name": "amazon_linux",
					"provider_name": "registry.terraform.io/hashicorp/aws",
					"schema_version": 0,
					"values": {
						"architecture": "x86_64",
						"arn": "arn:aws:ec2:us-west-2::image/ami-0913c47048d853921",
						"block_device_mappings": [{
							"device_name": "/dev/xvda",
							"ebs": {
								"delete_on_termination": "true",
								"encrypted": "false",
								"iops": "0",
								"snapshot_id": "snap-05c4775e3da6caab0",
								"throughput": "0",
								"volume_size": "8",
								"volume_type": "gp2",
							},
							"no_device": "",
							"virtual_name": "",
						}],
						"boot_mode": "",
						"creation_date": "2023-01-25T17:09:31.000Z",
						"deprecation_time": "2025-01-25T17:09:30.000Z",
						"description": "Amazon Linux 2 AMI 2.0.20230119.1 x86_64 HVM gp2",
						"ena_support": true,
						"executable_users": null,
						"filter": [{
							"name": "name",
							"values": ["amzn2-ami-hvm-*-x86_64-gp2"],
						}],
						"hypervisor": "xen",
						"id": "ami-0913c47048d853921",
						"image_id": "ami-0913c47048d853921",
						"image_location": "amazon/amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
						"image_owner_alias": "amazon",
						"image_type": "machine",
						"imds_support": "",
						"include_deprecated": false,
						"kernel_id": "",
						"most_recent": true,
						"name": "amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
						"name_regex": null,
						"owner_id": "137112412989",
						"owners": ["amazon"],
						"platform": "",
						"platform_details": "Linux/UNIX",
						"product_codes": [],
						"public": true,
						"ramdisk_id": "",
						"root_device_name": "/dev/xvda",
						"root_device_type": "ebs",
						"root_snapshot_id": "snap-05c4775e3da6caab0",
						"sriov_net_support": "simple",
						"state": "available",
						"state_reason": {
							"code": "UNSET",
							"message": "UNSET",
						},
						"tags": {},
						"timeouts": null,
						"tpm_support": "",
						"usage_operation": "RunInstances",
						"virtualization_type": "hvm",
					},
					"sensitive_values": {
						"block_device_mappings": [{"ebs": {}}],
						"filter": [{"values": [false]}],
						"owners": [false],
						"product_codes": [],
						"state_reason": {},
						"tags": {},
					},
				}],
				"address": "module.autoscaling",
			}]}},
		},
		"configuration": {
			"provider_config": {
				"module.autoscaling:aws": {
					"name": "aws",
					"full_name": "registry.terraform.io/hashicorp/aws",
					"version_constraint": "~> 4.0",
					"module_address": "module.autoscaling",
					"expressions": {"region": {"references": ["var.aws_region"]}},
				},
				"module.autoscaling:aws.east": {
					"name": "aws",
					"full_name": "registry.terraform.io/hashicorp/aws",
					"alias": "east",
					"version_constraint": "~> 4.0",
					"module_address": "module.autoscaling",
					"expressions": {"region": {"constant_value": "us-east-1"}},
				},
			},
			"root_module": {"module_calls": {"autoscaling": {
				"source": "../../../../../modules/ec2",
				"module": {
					"resources": [
						{
							"address": "aws_instance.public_ip_association_explicitly_declared",
							"mode": "managed",
							"type": "aws_instance",
							"name": "public_ip_association_explicitly_declared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"ami": {"constant_value": "ami-830c94e3"},
								"associate_public_ip_address": {"constant_value": ec2_instance_public_ip_association},
								"instance_type": {"constant_value": "t2.micro"},
								"subnet_id": {"constant_value": "subnet-abd8438a"},
								"tags": {"constant_value": {"Name": "ExampleInstance"}},
							},
							"schema_version": 1,
						},
						{
							"address": "aws_launch_configuration.public_ip_association_explicitly_declared",
							"mode": "managed",
							"type": "aws_launch_configuration",
							"name": "public_ip_association_explicitly_declared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"associate_public_ip_address": {"constant_value": launch_configuration_public_ip_association},
								"image_id": {"references": [
									"data.aws_ami.amazon_linux.id",
									"data.aws_ami.amazon_linux",
								]},
								"instance_type": {"constant_value": "m6a.large"},
								"name": {"constant_value": "tf-launchconf-styra"},
							},
							"schema_version": 0,
						},
						{
							"address": "aws_launch_template.public_ip_association_explicitly_declared",
							"mode": "managed",
							"type": "aws_launch_template",
							"name": "public_ip_association_explicitly_declared",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"block_device_mappings": [{
									"device_name": {"constant_value": "/dev/sda1"},
									"ebs": [{"volume_size": {"constant_value": 20}}],
								}],
								"name": {"constant_value": "good-example"},
								"network_interfaces": [{"associate_public_ip_address": {"constant_value": launch_template_public_ip_association}}],
								"placement": [{"availability_zone": {"constant_value": "us-west-2a"}}],
								"ram_disk_id": {"constant_value": "test"},
								"tag_specifications": [{
									"resource_type": {"constant_value": "instance"},
									"tags": {"constant_value": {"Name": "good-example"}},
								}],
								"vpc_security_group_ids": {"constant_value": ["sg-12345678"]},
							},
							"schema_version": 0,
						},
						{
							"address": "data.aws_ami.amazon_linux",
							"mode": "data",
							"type": "aws_ami",
							"name": "amazon_linux",
							"provider_config_key": "module.autoscaling:aws",
							"expressions": {
								"filter": [{
									"name": {"constant_value": "name"},
									"values": {"constant_value": ["amzn2-ami-hvm-*-x86_64-gp2"]},
								}],
								"most_recent": {"constant_value": true},
								"owners": {"constant_value": ["amazon"]},
							},
							"schema_version": 0,
						},
					],
					"variables": {
						"asg_name": {
							"default": "tf-asg-styra",
							"description": "Name of the autoscaling group",
						},
						"aws_region": {
							"default": "us-west-2",
							"description": "AWS region",
						},
						"instance_type": {
							"default": "m6a.large",
							"description": "Type of the instance for launch configuration",
						},
						"launch_conf_name": {
							"default": "tf-launchconf-styra",
							"description": "Name of the launch configuration",
						},
					},
				},
			}}},
		},
		"relevant_attributes": [{
			"resource": "module.autoscaling.data.aws_ami.amazon_linux",
			"attribute": ["id"],
		}],
	}
}

input_aws_instance_without_public_ip_declaration := {
	"format_version": "1.1",
	"terraform_version": "1.2.7",
	"planned_values": {"root_module": {"child_modules": [{
		"resources": [{
			"address": "module.autoscaling.aws_instance.public_ip_association_undeclared",
			"mode": "managed",
			"type": "aws_instance",
			"name": "public_ip_association_undeclared",
			"provider_name": "registry.terraform.io/hashicorp/aws",
			"schema_version": 1,
			"values": {
				"ami": "ami-830c94e3",
				"credit_specification": [],
				"get_password_data": false,
				"hibernation": null,
				"instance_type": "t2.micro",
				"launch_template": [],
				"source_dest_check": true,
				"subnet_id": "subnet-abd8438a",
				"tags": {"Name": "ExampleInstance"},
				"tags_all": {"Name": "ExampleInstance"},
				"timeouts": null,
				"user_data_replace_on_change": false,
				"volume_tags": null,
			},
			"sensitive_values": {
				"capacity_reservation_specification": [],
				"credit_specification": [],
				"ebs_block_device": [],
				"enclave_options": [],
				"ephemeral_block_device": [],
				"ipv6_addresses": [],
				"launch_template": [],
				"maintenance_options": [],
				"metadata_options": [],
				"network_interface": [],
				"private_dns_name_options": [],
				"root_block_device": [],
				"secondary_private_ips": [],
				"security_groups": [],
				"tags": {},
				"tags_all": {},
				"vpc_security_group_ids": [],
			},
		}],
		"address": "module.autoscaling",
	}]}},
	"resource_changes": [{
		"address": "module.autoscaling.aws_instance.public_ip_association_undeclared",
		"module_address": "module.autoscaling",
		"mode": "managed",
		"type": "aws_instance",
		"name": "public_ip_association_undeclared",
		"provider_name": "registry.terraform.io/hashicorp/aws",
		"change": {
			"actions": ["create"],
			"before": null,
			"after": {
				"ami": "ami-830c94e3",
				"credit_specification": [],
				"get_password_data": false,
				"hibernation": null,
				"instance_type": "t2.micro",
				"launch_template": [],
				"source_dest_check": true,
				"subnet_id": "subnet-abd8438a",
				"tags": {"Name": "ExampleInstance"},
				"tags_all": {"Name": "ExampleInstance"},
				"timeouts": null,
				"user_data_replace_on_change": false,
				"volume_tags": null,
			},
			"after_unknown": {
				"arn": true,
				"associate_public_ip_address": true,
				"availability_zone": true,
				"capacity_reservation_specification": true,
				"cpu_core_count": true,
				"cpu_threads_per_core": true,
				"credit_specification": [],
				"disable_api_stop": true,
				"disable_api_termination": true,
				"ebs_block_device": true,
				"ebs_optimized": true,
				"enclave_options": true,
				"ephemeral_block_device": true,
				"host_id": true,
				"host_resource_group_arn": true,
				"iam_instance_profile": true,
				"id": true,
				"instance_initiated_shutdown_behavior": true,
				"instance_state": true,
				"ipv6_address_count": true,
				"ipv6_addresses": true,
				"key_name": true,
				"launch_template": [],
				"maintenance_options": true,
				"metadata_options": true,
				"monitoring": true,
				"network_interface": true,
				"outpost_arn": true,
				"password_data": true,
				"placement_group": true,
				"placement_partition_number": true,
				"primary_network_interface_id": true,
				"private_dns": true,
				"private_dns_name_options": true,
				"private_ip": true,
				"public_dns": true,
				"public_ip": true,
				"root_block_device": true,
				"secondary_private_ips": true,
				"security_groups": true,
				"tags": {},
				"tags_all": {},
				"tenancy": true,
				"user_data": true,
				"user_data_base64": true,
				"vpc_security_group_ids": true,
			},
			"before_sensitive": false,
			"after_sensitive": {
				"capacity_reservation_specification": [],
				"credit_specification": [],
				"ebs_block_device": [],
				"enclave_options": [],
				"ephemeral_block_device": [],
				"ipv6_addresses": [],
				"launch_template": [],
				"maintenance_options": [],
				"metadata_options": [],
				"network_interface": [],
				"private_dns_name_options": [],
				"root_block_device": [],
				"secondary_private_ips": [],
				"security_groups": [],
				"tags": {},
				"tags_all": {},
				"vpc_security_group_ids": [],
			},
		},
	}],
	"configuration": {
		"provider_config": {
			"module.autoscaling:aws": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"references": ["var.aws_region"]}},
			},
			"module.autoscaling:aws.east": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"alias": "east",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"constant_value": "us-east-1"}},
			},
		},
		"root_module": {"module_calls": {"autoscaling": {
			"source": "../../../../../modules/ec2",
			"module": {
				"resources": [{
					"address": "aws_instance.public_ip_association_undeclared",
					"mode": "managed",
					"type": "aws_instance",
					"name": "public_ip_association_undeclared",
					"provider_config_key": "module.autoscaling:aws",
					"expressions": {
						"ami": {"constant_value": "ami-830c94e3"},
						"instance_type": {"constant_value": "t2.micro"},
						"subnet_id": {"constant_value": "subnet-abd8438a"},
						"tags": {"constant_value": {"Name": "ExampleInstance"}},
					},
					"schema_version": 1,
				}],
				"variables": {
					"asg_name": {
						"default": "tf-asg-styra",
						"description": "Name of the autoscaling group",
					},
					"aws_region": {
						"default": "us-west-2",
						"description": "AWS region",
					},
					"instance_type": {
						"default": "m6a.large",
						"description": "Type of the instance for launch configuration",
					},
					"launch_conf_name": {
						"default": "tf-launchconf-styra",
						"description": "Name of the launch configuration",
					},
				},
			},
		}}},
	},
}

input_aws_launch_configuration_without_public_ip_declaration := {
	"format_version": "1.1",
	"terraform_version": "1.2.7",
	"planned_values": {"root_module": {"child_modules": [{
		"resources": [{
			"address": "module.autoscaling.aws_launch_configuration.public_ip_association_undeclared",
			"mode": "managed",
			"type": "aws_launch_configuration",
			"name": "public_ip_association_undeclared",
			"provider_name": "registry.terraform.io/hashicorp/aws",
			"schema_version": 0,
			"values": {
				"enable_monitoring": true,
				"ephemeral_block_device": [],
				"iam_instance_profile": null,
				"image_id": "ami-0913c47048d853921",
				"instance_type": "m6a.large",
				"name": "tf-launchconf-styra",
				"placement_tenancy": null,
				"security_groups": null,
				"spot_price": null,
				"user_data": null,
				"user_data_base64": null,
				"vpc_classic_link_id": null,
				"vpc_classic_link_security_groups": null,
			},
			"sensitive_values": {
				"ebs_block_device": [],
				"ephemeral_block_device": [],
				"metadata_options": [],
				"root_block_device": [],
			},
		}],
		"address": "module.autoscaling",
	}]}},
	"resource_changes": [{
		"address": "module.autoscaling.aws_launch_configuration.public_ip_association_undeclared",
		"module_address": "module.autoscaling",
		"mode": "managed",
		"type": "aws_launch_configuration",
		"name": "public_ip_association_undeclared",
		"provider_name": "registry.terraform.io/hashicorp/aws",
		"change": {
			"actions": ["create"],
			"before": null,
			"after": {
				"enable_monitoring": true,
				"ephemeral_block_device": [],
				"iam_instance_profile": null,
				"image_id": "ami-0913c47048d853921",
				"instance_type": "m6a.large",
				"name": "tf-launchconf-styra",
				"placement_tenancy": null,
				"security_groups": null,
				"spot_price": null,
				"user_data": null,
				"user_data_base64": null,
				"vpc_classic_link_id": null,
				"vpc_classic_link_security_groups": null,
			},
			"after_unknown": {
				"arn": true,
				"associate_public_ip_address": true,
				"ebs_block_device": true,
				"ebs_optimized": true,
				"ephemeral_block_device": [],
				"id": true,
				"key_name": true,
				"metadata_options": true,
				"name_prefix": true,
				"root_block_device": true,
			},
			"before_sensitive": false,
			"after_sensitive": {
				"ebs_block_device": [],
				"ephemeral_block_device": [],
				"metadata_options": [],
				"root_block_device": [],
			},
		},
	}],
	"prior_state": {
		"format_version": "1.0",
		"terraform_version": "1.2.7",
		"values": {"root_module": {"child_modules": [{
			"resources": [{
				"address": "module.autoscaling.data.aws_ami.amazon_linux",
				"mode": "data",
				"type": "aws_ami",
				"name": "amazon_linux",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"schema_version": 0,
				"values": {
					"architecture": "x86_64",
					"arn": "arn:aws:ec2:us-west-2::image/ami-0913c47048d853921",
					"block_device_mappings": [{
						"device_name": "/dev/xvda",
						"ebs": {
							"delete_on_termination": "true",
							"encrypted": "false",
							"iops": "0",
							"snapshot_id": "snap-05c4775e3da6caab0",
							"throughput": "0",
							"volume_size": "8",
							"volume_type": "gp2",
						},
						"no_device": "",
						"virtual_name": "",
					}],
					"boot_mode": "",
					"creation_date": "2023-01-25T17:09:31.000Z",
					"deprecation_time": "2025-01-25T17:09:30.000Z",
					"description": "Amazon Linux 2 AMI 2.0.20230119.1 x86_64 HVM gp2",
					"ena_support": true,
					"executable_users": null,
					"filter": [{
						"name": "name",
						"values": ["amzn2-ami-hvm-*-x86_64-gp2"],
					}],
					"hypervisor": "xen",
					"id": "ami-0913c47048d853921",
					"image_id": "ami-0913c47048d853921",
					"image_location": "amazon/amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
					"image_owner_alias": "amazon",
					"image_type": "machine",
					"imds_support": "",
					"include_deprecated": false,
					"kernel_id": "",
					"most_recent": true,
					"name": "amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
					"name_regex": null,
					"owner_id": "137112412989",
					"owners": ["amazon"],
					"platform": "",
					"platform_details": "Linux/UNIX",
					"product_codes": [],
					"public": true,
					"ramdisk_id": "",
					"root_device_name": "/dev/xvda",
					"root_device_type": "ebs",
					"root_snapshot_id": "snap-05c4775e3da6caab0",
					"sriov_net_support": "simple",
					"state": "available",
					"state_reason": {
						"code": "UNSET",
						"message": "UNSET",
					},
					"tags": {},
					"timeouts": null,
					"tpm_support": "",
					"usage_operation": "RunInstances",
					"virtualization_type": "hvm",
				},
				"sensitive_values": {
					"block_device_mappings": [{"ebs": {}}],
					"filter": [{"values": [false]}],
					"owners": [false],
					"product_codes": [],
					"state_reason": {},
					"tags": {},
				},
			}],
			"address": "module.autoscaling",
		}]}},
	},
	"configuration": {
		"provider_config": {
			"module.autoscaling:aws": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"references": ["var.aws_region"]}},
			},
			"module.autoscaling:aws.east": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"alias": "east",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"constant_value": "us-east-1"}},
			},
		},
		"root_module": {"module_calls": {"autoscaling": {
			"source": "../../../../../modules/ec2",
			"module": {
				"resources": [
					{
						"address": "aws_launch_configuration.public_ip_association_undeclared",
						"mode": "managed",
						"type": "aws_launch_configuration",
						"name": "public_ip_association_undeclared",
						"provider_config_key": "module.autoscaling:aws",
						"expressions": {
							"image_id": {"references": [
								"data.aws_ami.amazon_linux.id",
								"data.aws_ami.amazon_linux",
							]},
							"instance_type": {"constant_value": "m6a.large"},
							"name": {"constant_value": "tf-launchconf-styra"},
						},
						"schema_version": 0,
					},
					{
						"address": "data.aws_ami.amazon_linux",
						"mode": "data",
						"type": "aws_ami",
						"name": "amazon_linux",
						"provider_config_key": "module.autoscaling:aws",
						"expressions": {
							"filter": [{
								"name": {"constant_value": "name"},
								"values": {"constant_value": ["amzn2-ami-hvm-*-x86_64-gp2"]},
							}],
							"most_recent": {"constant_value": true},
							"owners": {"constant_value": ["amazon"]},
						},
						"schema_version": 0,
					},
				],
				"variables": {
					"asg_name": {
						"default": "tf-asg-styra",
						"description": "Name of the autoscaling group",
					},
					"aws_region": {
						"default": "us-west-2",
						"description": "AWS region",
					},
					"instance_type": {
						"default": "m6a.large",
						"description": "Type of the instance for launch configuration",
					},
					"launch_conf_name": {
						"default": "tf-launchconf-styra",
						"description": "Name of the launch configuration",
					},
				},
			},
		}}},
	},
	"relevant_attributes": [{
		"resource": "module.autoscaling.data.aws_ami.amazon_linux",
		"attribute": ["id"],
	}],
}

input_aws_launch_template_with_empty_network_interface := {
	"format_version": "1.1",
	"terraform_version": "1.2.7",
	"planned_values": {"root_module": {"child_modules": [{
		"resources": [{
			"address": "module.autoscaling.aws_launch_template.empty_network_interfaces",
			"mode": "managed",
			"type": "aws_launch_template",
			"name": "empty_network_interfaces",
			"provider_name": "registry.terraform.io/hashicorp/aws",
			"schema_version": 0,
			"values": {
				"block_device_mappings": [{
					"device_name": "/dev/sda1",
					"ebs": [{
						"delete_on_termination": null,
						"encrypted": null,
						"kms_key_id": null,
						"snapshot_id": null,
						"volume_size": 20,
					}],
					"no_device": null,
					"virtual_name": null,
				}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"description": null,
				"disable_api_stop": null,
				"disable_api_termination": null,
				"ebs_optimized": null,
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"image_id": null,
				"instance_initiated_shutdown_behavior": null,
				"instance_market_options": [],
				"instance_requirements": [],
				"instance_type": null,
				"kernel_id": null,
				"key_name": null,
				"license_specification": [],
				"maintenance_options": [],
				"monitoring": [],
				"name": "bad-example",
				"network_interfaces": [{
					"associate_carrier_ip_address": null,
					"associate_public_ip_address": null,
					"delete_on_termination": null,
					"description": null,
					"device_index": null,
					"interface_type": null,
					"ipv4_address_count": null,
					"ipv4_addresses": null,
					"ipv4_prefix_count": null,
					"ipv4_prefixes": null,
					"ipv6_address_count": null,
					"ipv6_addresses": null,
					"ipv6_prefix_count": null,
					"ipv6_prefixes": null,
					"network_card_index": null,
					"network_interface_id": null,
					"private_ip_address": null,
					"security_groups": null,
					"subnet_id": null,
				}],
				"placement": [{
					"affinity": null,
					"availability_zone": "us-west-2a",
					"group_name": null,
					"host_id": null,
					"host_resource_group_arn": null,
					"partition_number": null,
					"spread_domain": null,
					"tenancy": null,
				}],
				"private_dns_name_options": [],
				"ram_disk_id": "test",
				"security_group_names": null,
				"tag_specifications": [{
					"resource_type": "instance",
					"tags": {"Name": "good-example"},
				}],
				"tags": null,
				"update_default_version": null,
				"user_data": null,
				"vpc_security_group_ids": ["sg-12345678"],
			},
			"sensitive_values": {
				"block_device_mappings": [{"ebs": [{}]}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"instance_market_options": [],
				"instance_requirements": [],
				"license_specification": [],
				"maintenance_options": [],
				"metadata_options": [],
				"monitoring": [],
				"network_interfaces": [{}],
				"placement": [{}],
				"private_dns_name_options": [],
				"tag_specifications": [{"tags": {}}],
				"tags_all": {},
				"vpc_security_group_ids": [false],
			},
		}],
		"address": "module.autoscaling",
	}]}},
	"resource_changes": [{
		"address": "module.autoscaling.aws_launch_template.empty_network_interfaces",
		"module_address": "module.autoscaling",
		"mode": "managed",
		"type": "aws_launch_template",
		"name": "empty_network_interfaces",
		"provider_name": "registry.terraform.io/hashicorp/aws",
		"change": {
			"actions": ["create"],
			"before": null,
			"after": {
				"block_device_mappings": [{
					"device_name": "/dev/sda1",
					"ebs": [{
						"delete_on_termination": null,
						"encrypted": null,
						"kms_key_id": null,
						"snapshot_id": null,
						"volume_size": 20,
					}],
					"no_device": null,
					"virtual_name": null,
				}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"description": null,
				"disable_api_stop": null,
				"disable_api_termination": null,
				"ebs_optimized": null,
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"image_id": null,
				"instance_initiated_shutdown_behavior": null,
				"instance_market_options": [],
				"instance_requirements": [],
				"instance_type": null,
				"kernel_id": null,
				"key_name": null,
				"license_specification": [],
				"maintenance_options": [],
				"monitoring": [],
				"name": "bad-example",
				"network_interfaces": [{
					"associate_carrier_ip_address": null,
					"associate_public_ip_address": null,
					"delete_on_termination": null,
					"description": null,
					"device_index": null,
					"interface_type": null,
					"ipv4_address_count": null,
					"ipv4_addresses": null,
					"ipv4_prefix_count": null,
					"ipv4_prefixes": null,
					"ipv6_address_count": null,
					"ipv6_addresses": null,
					"ipv6_prefix_count": null,
					"ipv6_prefixes": null,
					"network_card_index": null,
					"network_interface_id": null,
					"private_ip_address": null,
					"security_groups": null,
					"subnet_id": null,
				}],
				"placement": [{
					"affinity": null,
					"availability_zone": "us-west-2a",
					"group_name": null,
					"host_id": null,
					"host_resource_group_arn": null,
					"partition_number": null,
					"spread_domain": null,
					"tenancy": null,
				}],
				"private_dns_name_options": [],
				"ram_disk_id": "test",
				"security_group_names": null,
				"tag_specifications": [{
					"resource_type": "instance",
					"tags": {"Name": "good-example"},
				}],
				"tags": null,
				"update_default_version": null,
				"user_data": null,
				"vpc_security_group_ids": ["sg-12345678"],
			},
			"after_unknown": {
				"arn": true,
				"block_device_mappings": [{"ebs": [{
					"iops": true,
					"throughput": true,
					"volume_type": true,
				}]}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"default_version": true,
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"id": true,
				"instance_market_options": [],
				"instance_requirements": [],
				"latest_version": true,
				"license_specification": [],
				"maintenance_options": [],
				"metadata_options": true,
				"monitoring": [],
				"name_prefix": true,
				"network_interfaces": [{}],
				"placement": [{}],
				"private_dns_name_options": [],
				"tag_specifications": [{"tags": {}}],
				"tags_all": true,
				"vpc_security_group_ids": [false],
			},
			"before_sensitive": false,
			"after_sensitive": {
				"block_device_mappings": [{"ebs": [{}]}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"instance_market_options": [],
				"instance_requirements": [],
				"license_specification": [],
				"maintenance_options": [],
				"metadata_options": [],
				"monitoring": [],
				"network_interfaces": [{}],
				"placement": [{}],
				"private_dns_name_options": [],
				"tag_specifications": [{"tags": {}}],
				"tags_all": {},
				"vpc_security_group_ids": [false],
			},
		},
	}],
	"prior_state": {
		"format_version": "1.0",
		"terraform_version": "1.2.7",
		"values": {"root_module": {"child_modules": [{
			"resources": [{
				"address": "module.autoscaling.data.aws_ami.amazon_linux",
				"mode": "data",
				"type": "aws_ami",
				"name": "amazon_linux",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"schema_version": 0,
				"values": {
					"architecture": "x86_64",
					"arn": "arn:aws:ec2:us-west-2::image/ami-0913c47048d853921",
					"block_device_mappings": [{
						"device_name": "/dev/xvda",
						"ebs": {
							"delete_on_termination": "true",
							"encrypted": "false",
							"iops": "0",
							"snapshot_id": "snap-05c4775e3da6caab0",
							"throughput": "0",
							"volume_size": "8",
							"volume_type": "gp2",
						},
						"no_device": "",
						"virtual_name": "",
					}],
					"boot_mode": "",
					"creation_date": "2023-01-25T17:09:31.000Z",
					"deprecation_time": "2025-01-25T17:09:30.000Z",
					"description": "Amazon Linux 2 AMI 2.0.20230119.1 x86_64 HVM gp2",
					"ena_support": true,
					"executable_users": null,
					"filter": [{
						"name": "name",
						"values": ["amzn2-ami-hvm-*-x86_64-gp2"],
					}],
					"hypervisor": "xen",
					"id": "ami-0913c47048d853921",
					"image_id": "ami-0913c47048d853921",
					"image_location": "amazon/amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
					"image_owner_alias": "amazon",
					"image_type": "machine",
					"imds_support": "",
					"include_deprecated": false,
					"kernel_id": "",
					"most_recent": true,
					"name": "amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
					"name_regex": null,
					"owner_id": "137112412989",
					"owners": ["amazon"],
					"platform": "",
					"platform_details": "Linux/UNIX",
					"product_codes": [],
					"public": true,
					"ramdisk_id": "",
					"root_device_name": "/dev/xvda",
					"root_device_type": "ebs",
					"root_snapshot_id": "snap-05c4775e3da6caab0",
					"sriov_net_support": "simple",
					"state": "available",
					"state_reason": {
						"code": "UNSET",
						"message": "UNSET",
					},
					"tags": {},
					"timeouts": null,
					"tpm_support": "",
					"usage_operation": "RunInstances",
					"virtualization_type": "hvm",
				},
				"sensitive_values": {
					"block_device_mappings": [{"ebs": {}}],
					"filter": [{"values": [false]}],
					"owners": [false],
					"product_codes": [],
					"state_reason": {},
					"tags": {},
				},
			}],
			"address": "module.autoscaling",
		}]}},
	},
	"configuration": {
		"provider_config": {
			"module.autoscaling:aws": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"references": ["var.aws_region"]}},
			},
			"module.autoscaling:aws.east": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"alias": "east",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"constant_value": "us-east-1"}},
			},
		},
		"root_module": {"module_calls": {"autoscaling": {
			"source": "../../../../../modules/ec2",
			"module": {
				"resources": [
					{
						"address": "aws_launch_template.empty_network_interfaces",
						"mode": "managed",
						"type": "aws_launch_template",
						"name": "empty_network_interfaces",
						"provider_config_key": "module.autoscaling:aws",
						"expressions": {
							"block_device_mappings": [{
								"device_name": {"constant_value": "/dev/sda1"},
								"ebs": [{"volume_size": {"constant_value": 20}}],
							}],
							"name": {"constant_value": "bad-example"},
							"network_interfaces": [{}],
							"placement": [{"availability_zone": {"constant_value": "us-west-2a"}}],
							"ram_disk_id": {"constant_value": "test"},
							"tag_specifications": [{
								"resource_type": {"constant_value": "instance"},
								"tags": {"constant_value": {"Name": "good-example"}},
							}],
							"vpc_security_group_ids": {"constant_value": ["sg-12345678"]},
						},
						"schema_version": 0,
					},
					{
						"address": "data.aws_ami.amazon_linux",
						"mode": "data",
						"type": "aws_ami",
						"name": "amazon_linux",
						"provider_config_key": "module.autoscaling:aws",
						"expressions": {
							"filter": [{
								"name": {"constant_value": "name"},
								"values": {"constant_value": ["amzn2-ami-hvm-*-x86_64-gp2"]},
							}],
							"most_recent": {"constant_value": true},
							"owners": {"constant_value": ["amazon"]},
						},
						"schema_version": 0,
					},
				],
				"variables": {
					"asg_name": {
						"default": "tf-asg-styra",
						"description": "Name of the autoscaling group",
					},
					"aws_region": {
						"default": "us-west-2",
						"description": "AWS region",
					},
					"instance_type": {
						"default": "m6a.large",
						"description": "Type of the instance for launch configuration",
					},
					"launch_conf_name": {
						"default": "tf-launchconf-styra",
						"description": "Name of the launch configuration",
					},
				},
			},
		}}},
	},
}

# Following json has been modified
# network_interfaces has been removed from change.after
# It was available in tf-plan-json
input_aws_launch_template_without_network_interface := {
	"format_version": "1.1",
	"terraform_version": "1.2.7",
	"planned_values": {"root_module": {"child_modules": [{
		"resources": [{
			"address": "module.autoscaling.aws_launch_template.without_network_interfaces",
			"mode": "managed",
			"type": "aws_launch_template",
			"name": "without_network_interfaces",
			"provider_name": "registry.terraform.io/hashicorp/aws",
			"schema_version": 0,
			"values": {
				"block_device_mappings": [{
					"device_name": "/dev/sda1",
					"ebs": [{
						"delete_on_termination": null,
						"encrypted": null,
						"kms_key_id": null,
						"snapshot_id": null,
						"volume_size": 20,
					}],
					"no_device": null,
					"virtual_name": null,
				}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"description": null,
				"disable_api_stop": null,
				"disable_api_termination": null,
				"ebs_optimized": null,
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"image_id": null,
				"instance_initiated_shutdown_behavior": null,
				"instance_market_options": [],
				"instance_requirements": [],
				"instance_type": null,
				"kernel_id": null,
				"key_name": null,
				"license_specification": [],
				"maintenance_options": [],
				"monitoring": [],
				"name": "bad-example",
				"network_interfaces": [],
				"placement": [{
					"affinity": null,
					"availability_zone": "us-west-2a",
					"group_name": null,
					"host_id": null,
					"host_resource_group_arn": null,
					"partition_number": null,
					"spread_domain": null,
					"tenancy": null,
				}],
				"private_dns_name_options": [],
				"ram_disk_id": "test",
				"security_group_names": null,
				"tag_specifications": [{
					"resource_type": "instance",
					"tags": {"Name": "good-example"},
				}],
				"tags": null,
				"update_default_version": null,
				"user_data": null,
				"vpc_security_group_ids": ["sg-12345678"],
			},
			"sensitive_values": {
				"block_device_mappings": [{"ebs": [{}]}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"instance_market_options": [],
				"instance_requirements": [],
				"license_specification": [],
				"maintenance_options": [],
				"metadata_options": [],
				"monitoring": [],
				"network_interfaces": [],
				"placement": [{}],
				"private_dns_name_options": [],
				"tag_specifications": [{"tags": {}}],
				"tags_all": {},
				"vpc_security_group_ids": [false],
			},
		}],
		"address": "module.autoscaling",
	}]}},
	"resource_changes": [{
		"address": "module.autoscaling.aws_launch_template.without_network_interfaces",
		"module_address": "module.autoscaling",
		"mode": "managed",
		"type": "aws_launch_template",
		"name": "without_network_interfaces",
		"provider_name": "registry.terraform.io/hashicorp/aws",
		"change": {
			"actions": ["create"],
			"before": null,
			"after": {
				"block_device_mappings": [{
					"device_name": "/dev/sda1",
					"ebs": [{
						"delete_on_termination": null,
						"encrypted": null,
						"kms_key_id": null,
						"snapshot_id": null,
						"volume_size": 20,
					}],
					"no_device": null,
					"virtual_name": null,
				}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"description": null,
				"disable_api_stop": null,
				"disable_api_termination": null,
				"ebs_optimized": null,
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"image_id": null,
				"instance_initiated_shutdown_behavior": null,
				"instance_market_options": [],
				"instance_requirements": [],
				"instance_type": null,
				"kernel_id": null,
				"key_name": null,
				"license_specification": [],
				"maintenance_options": [],
				"monitoring": [],
				"name": "bad-example",
				"placement": [{
					"affinity": null,
					"availability_zone": "us-west-2a",
					"group_name": null,
					"host_id": null,
					"host_resource_group_arn": null,
					"partition_number": null,
					"spread_domain": null,
					"tenancy": null,
				}],
				"private_dns_name_options": [],
				"ram_disk_id": "test",
				"security_group_names": null,
				"tag_specifications": [{
					"resource_type": "instance",
					"tags": {"Name": "good-example"},
				}],
				"tags": null,
				"update_default_version": null,
				"user_data": null,
				"vpc_security_group_ids": ["sg-12345678"],
			},
			"after_unknown": {
				"arn": true,
				"block_device_mappings": [{"ebs": [{
					"iops": true,
					"throughput": true,
					"volume_type": true,
				}]}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"default_version": true,
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"id": true,
				"instance_market_options": [],
				"instance_requirements": [],
				"latest_version": true,
				"license_specification": [],
				"maintenance_options": [],
				"metadata_options": true,
				"monitoring": [],
				"name_prefix": true,
				"network_interfaces": [],
				"placement": [{}],
				"private_dns_name_options": [],
				"tag_specifications": [{"tags": {}}],
				"tags_all": true,
				"vpc_security_group_ids": [false],
			},
			"before_sensitive": false,
			"after_sensitive": {
				"block_device_mappings": [{"ebs": [{}]}],
				"capacity_reservation_specification": [],
				"cpu_options": [],
				"credit_specification": [],
				"elastic_gpu_specifications": [],
				"elastic_inference_accelerator": [],
				"enclave_options": [],
				"hibernation_options": [],
				"iam_instance_profile": [],
				"instance_market_options": [],
				"instance_requirements": [],
				"license_specification": [],
				"maintenance_options": [],
				"metadata_options": [],
				"monitoring": [],
				"network_interfaces": [],
				"placement": [{}],
				"private_dns_name_options": [],
				"tag_specifications": [{"tags": {}}],
				"tags_all": {},
				"vpc_security_group_ids": [false],
			},
		},
	}],
	"prior_state": {
		"format_version": "1.0",
		"terraform_version": "1.2.7",
		"values": {"root_module": {"child_modules": [{
			"resources": [{
				"address": "module.autoscaling.data.aws_ami.amazon_linux",
				"mode": "data",
				"type": "aws_ami",
				"name": "amazon_linux",
				"provider_name": "registry.terraform.io/hashicorp/aws",
				"schema_version": 0,
				"values": {
					"architecture": "x86_64",
					"arn": "arn:aws:ec2:us-west-2::image/ami-0913c47048d853921",
					"block_device_mappings": [{
						"device_name": "/dev/xvda",
						"ebs": {
							"delete_on_termination": "true",
							"encrypted": "false",
							"iops": "0",
							"snapshot_id": "snap-05c4775e3da6caab0",
							"throughput": "0",
							"volume_size": "8",
							"volume_type": "gp2",
						},
						"no_device": "",
						"virtual_name": "",
					}],
					"boot_mode": "",
					"creation_date": "2023-01-25T17:09:31.000Z",
					"deprecation_time": "2025-01-25T17:09:30.000Z",
					"description": "Amazon Linux 2 AMI 2.0.20230119.1 x86_64 HVM gp2",
					"ena_support": true,
					"executable_users": null,
					"filter": [{
						"name": "name",
						"values": ["amzn2-ami-hvm-*-x86_64-gp2"],
					}],
					"hypervisor": "xen",
					"id": "ami-0913c47048d853921",
					"image_id": "ami-0913c47048d853921",
					"image_location": "amazon/amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
					"image_owner_alias": "amazon",
					"image_type": "machine",
					"imds_support": "",
					"include_deprecated": false,
					"kernel_id": "",
					"most_recent": true,
					"name": "amzn2-ami-hvm-2.0.20230119.1-x86_64-gp2",
					"name_regex": null,
					"owner_id": "137112412989",
					"owners": ["amazon"],
					"platform": "",
					"platform_details": "Linux/UNIX",
					"product_codes": [],
					"public": true,
					"ramdisk_id": "",
					"root_device_name": "/dev/xvda",
					"root_device_type": "ebs",
					"root_snapshot_id": "snap-05c4775e3da6caab0",
					"sriov_net_support": "simple",
					"state": "available",
					"state_reason": {
						"code": "UNSET",
						"message": "UNSET",
					},
					"tags": {},
					"timeouts": null,
					"tpm_support": "",
					"usage_operation": "RunInstances",
					"virtualization_type": "hvm",
				},
				"sensitive_values": {
					"block_device_mappings": [{"ebs": {}}],
					"filter": [{"values": [false]}],
					"owners": [false],
					"product_codes": [],
					"state_reason": {},
					"tags": {},
				},
			}],
			"address": "module.autoscaling",
		}]}},
	},
	"configuration": {
		"provider_config": {
			"module.autoscaling:aws": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"references": ["var.aws_region"]}},
			},
			"module.autoscaling:aws.east": {
				"name": "aws",
				"full_name": "registry.terraform.io/hashicorp/aws",
				"alias": "east",
				"version_constraint": "~> 4.0",
				"module_address": "module.autoscaling",
				"expressions": {"region": {"constant_value": "us-east-1"}},
			},
		},
		"root_module": {"module_calls": {"autoscaling": {
			"source": "../../../../../modules/ec2",
			"module": {
				"resources": [
					{
						"address": "aws_launch_template.without_network_interfaces",
						"mode": "managed",
						"type": "aws_launch_template",
						"name": "without_network_interfaces",
						"provider_config_key": "module.autoscaling:aws",
						"expressions": {
							"block_device_mappings": [{
								"device_name": {"constant_value": "/dev/sda1"},
								"ebs": [{"volume_size": {"constant_value": 20}}],
							}],
							"name": {"constant_value": "bad-example"},
							"placement": [{"availability_zone": {"constant_value": "us-west-2a"}}],
							"ram_disk_id": {"constant_value": "test"},
							"tag_specifications": [{
								"resource_type": {"constant_value": "instance"},
								"tags": {"constant_value": {"Name": "good-example"}},
							}],
							"vpc_security_group_ids": {"constant_value": ["sg-12345678"]},
						},
						"schema_version": 0,
					},
					{
						"address": "data.aws_ami.amazon_linux",
						"mode": "data",
						"type": "aws_ami",
						"name": "amazon_linux",
						"provider_config_key": "module.autoscaling:aws",
						"expressions": {
							"filter": [{
								"name": {"constant_value": "name"},
								"values": {"constant_value": ["amzn2-ami-hvm-*-x86_64-gp2"]},
							}],
							"most_recent": {"constant_value": true},
							"owners": {"constant_value": ["amazon"]},
						},
						"schema_version": 0,
					},
				],
				"variables": {
					"asg_name": {
						"default": "tf-asg-styra",
						"description": "Name of the autoscaling group",
					},
					"aws_region": {
						"default": "us-west-2",
						"description": "AWS region",
					},
					"instance_type": {
						"default": "m6a.large",
						"description": "Type of the instance for launch configuration",
					},
					"launch_conf_name": {
						"default": "tf-launchconf-styra",
						"description": "Name of the launch configuration",
					},
				},
			},
		}}},
	},
}
